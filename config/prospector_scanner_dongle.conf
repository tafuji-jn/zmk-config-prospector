# Prospector Scanner - Dongle Mode overlay
# BLE Central + USB HID forwarding (on top of scanner mode)

CONFIG_PROSPECTOR_DONGLE_MODE=y

# Disable ZMK BLE peripheral mode (defaults to y when BT is enabled).
# Prospector should NOT advertise as a keyboard peripheral.
# This also disables BT_SMP_SC_PAIR_ONLY, BT_SMP_APP_PAIRING_ACCEPT
# and other ZMK BLE features that interfere with Central dongle mode.
CONFIG_ZMK_BLE=n

# BLE Central
CONFIG_BT_CENTRAL=y
CONFIG_BT_GATT_CLIENT=y
CONFIG_BT_SMP=y

CONFIG_BT_MAX_CONN=3
CONFIG_BT_MAX_PAIRED=3
CONFIG_BT_BONDABLE=y
CONFIG_BT_KEYS_OVERWRITE_OLDEST=y
CONFIG_BT_SMP_ALLOW_UNAUTH_OVERWRITE=y
CONFIG_BT_GATT_AUTO_SEC_REQ=y

# USB HID
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_HID=y
CONFIG_USB_DEVICE_PRODUCT="Prospector Keyboard Dongle"
CONFIG_USB_DEVICE_INITIALIZE_AT_BOOT=y
CONFIG_USB_HID_BOOT_PROTOCOL=y

# USB CDC ACM serial console (for debug logging via printk)
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_USB_CDC_ACM=y

# Stack size
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096
CONFIG_BT_ATT_TX_COUNT=10
CONFIG_BT_L2CAP_TX_BUF_COUNT=10

# Target keyboard name (empty = first HID device found)
CONFIG_PROSPECTOR_DONGLE_TARGET_NAME="lotom"
